\hypertarget{event_8hpp_source}{}\doxysection{event.\+hpp}
\label{event_8hpp_source}\index{src/event.hpp@{src/event.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef UTIL\_EVENT\_HPP}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define UTIL\_EVENT\_HPP}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <iostream>} }
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{keyword}{namespace }util \{}
\DoxyCodeLine{7 }
\DoxyCodeLine{12 \textcolor{preprocessor}{    \#define EVENT\_CLASS\_TYPE(eventTypes, type) static eventTypes getStaticType() \{ return eventTypes::type; \} \(\backslash\)}}
\DoxyCodeLine{13 \textcolor{preprocessor}{                                   virtual eventTypes getEventType() const override \{ return getStaticType(); \} \(\backslash\)}}
\DoxyCodeLine{14 \textcolor{preprocessor}{                                   virtual std::string getName() const override \{ return \#type; \}}}
\DoxyCodeLine{15 }
\DoxyCodeLine{65     \textcolor{keyword}{template} <\textcolor{keyword}{typename} eventTypes>}
\DoxyCodeLine{66     \textcolor{keyword}{class }\mbox{\hyperlink{classutil_1_1event}{event}} \{}
\DoxyCodeLine{67     }
\DoxyCodeLine{68         \textcolor{comment}{// * make the event dispatcher a fried class}}
\DoxyCodeLine{69         \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{70         \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classutil_1_1event__dispatcher}{event\_dispatcher}};}
\DoxyCodeLine{71 }
\DoxyCodeLine{72     \textcolor{keyword}{public}:   }
\DoxyCodeLine{73         }
\DoxyCodeLine{79         \textcolor{keyword}{virtual} eventTypes \mbox{\hyperlink{classutil_1_1event_aa3d5fbd5cf8a2e99ec143ded392a24c6}{getEventType}}() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{85         \textcolor{keyword}{virtual} std::string \mbox{\hyperlink{classutil_1_1event_aebd35a6fc8c83c164aaac575d44d68ca}{getName}}() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{91         \textcolor{keyword}{virtual} std::string \mbox{\hyperlink{classutil_1_1event_ab044b1a2346b022526d9b7d14e24686f}{toString}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classutil_1_1event_aebd35a6fc8c83c164aaac575d44d68ca}{getName}}(); \}}
\DoxyCodeLine{97         \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classutil_1_1event_a03c34f7a666a6a9b692e476c85b5f19b}{handled}}() \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classutil_1_1event_a8cc3f321f9a6e3c4a175d8e458a3fd69}{m\_handled}}; \}}
\DoxyCodeLine{98 }
\DoxyCodeLine{99     \textcolor{keyword}{protected}:}
\DoxyCodeLine{100         }
\DoxyCodeLine{104         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classutil_1_1event_a8cc3f321f9a6e3c4a175d8e458a3fd69}{m\_handled}};}
\DoxyCodeLine{105     \};}
\DoxyCodeLine{106 }
\DoxyCodeLine{147     \textcolor{keyword}{template} <\textcolor{keyword}{typename} eventTypes>}
\DoxyCodeLine{148     \textcolor{keyword}{class }\mbox{\hyperlink{classutil_1_1event__dispatcher}{event\_dispatcher}}}
\DoxyCodeLine{149     \{}
\DoxyCodeLine{155         \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{156         \textcolor{keyword}{using }eventFn = std::function<bool(T\&)>;}
\DoxyCodeLine{157 }
\DoxyCodeLine{158     \textcolor{keyword}{public}:}
\DoxyCodeLine{159 }
\DoxyCodeLine{165         \mbox{\hyperlink{classutil_1_1event__dispatcher_a939e2abac7e3b4a5bf855bad85e6e453}{event\_dispatcher}}(\mbox{\hyperlink{classutil_1_1event}{event<eventTypes>}} \&t\_event) : m\_event(t\_event) \{\}}
\DoxyCodeLine{166 }
\DoxyCodeLine{177         \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{178         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classutil_1_1event__dispatcher_acb8e902507c171fd6501b518a2648a71}{dispatch}}(eventFn<T> t\_dispatchFn) \{}
\DoxyCodeLine{179             \textcolor{keywordflow}{if} (m\_event.getEventType() == T::getStaticType()) \{}
\DoxyCodeLine{180                 m\_event.m\_handled = t\_dispatchFn(*(T*)\&m\_event);}
\DoxyCodeLine{181 }
\DoxyCodeLine{182                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{183             \}}
\DoxyCodeLine{184 }
\DoxyCodeLine{185             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{186         \} }
\DoxyCodeLine{187 }
\DoxyCodeLine{188     \textcolor{keyword}{private}:}
\DoxyCodeLine{189         }
\DoxyCodeLine{190         \mbox{\hyperlink{classutil_1_1event}{event<eventTypes>}} \&m\_event;}
\DoxyCodeLine{191     \};}
\DoxyCodeLine{192 \}}
\DoxyCodeLine{193 }
\DoxyCodeLine{194 }
\DoxyCodeLine{195 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
